ğŸ”¥ **Monotonic Stack â€“ Instant Identification Template (Interview-Ready)** ğŸ”¥
*(This is the mental checklist top interviewers expect you to build)*

---

# 1ï¸âƒ£ The FIRST Question to Ask (Golden Rule)

ğŸ‘‰ **Am I being asked to find something â€œrelativeâ€ to another element?**

If the problem asks for:

* Next / Previous **Greater**
* Next / Previous **Smaller**
* Nearest / Closest element
* First element on left/right satisfying a condition
* Area / Water / Span / Rectangle

ğŸš¨ **Monotonic Stack is screaming here**

---

# 2ï¸âƒ£ Keyword Scanner (Spot It in 5 Seconds)

If the problem statement contains **ANY** of these words, pause and think stack ğŸ‘‡

### ğŸ” Directional keywords

* next, previous
* left, right
* before, after
* closest, nearest

### ğŸ” Comparison keywords

* greater than
* smaller than
* taller, shorter
* higher, lower

### ğŸ” Geometry / range

* width
* span
* area
* container
* trapped
* histogram

âœ”ï¸ **At least one from each group â†’ Monotonic Stack**

---

# 3ï¸âƒ£ Decide the Stack Type (This Is the Core)

### Ask this exact question:

> **What order do I want elements to be in when stored?**

| Problem wants    | Stack should be          |
| ---------------- | ------------------------ |
| Next Greater     | Monotonic **Decreasing** |
| Next Smaller     | Monotonic **Increasing** |
| Previous Greater | Monotonic **Decreasing** |
| Previous Smaller | Monotonic **Increasing** |

ğŸ“Œ *Decreasing = top is smaller*
ğŸ“Œ *Increasing = top is larger*

---

# 4ï¸âƒ£ Decide Traversal Direction (Critical)

Ask:

> **Am I looking to the RIGHT or to the LEFT?**

| Looking for      | Traverse               |
| ---------------- | ---------------------- |
| Next element     | Right â†’ Left           |
| Previous element | Left â†’ Right           |
| Needs both sides | Left â†’ Right (indices) |

### Examples

* **NGE** â†’ Right â†’ Left
* **Stock Span** â†’ Left â†’ Right
* **Rain Water / Histogram** â†’ Left â†’ Right

---

# 5ï¸âƒ£ Universal Monotonic Stack Template ğŸ§ 

Memorize this. This is the **one template** behind 90% problems.

```java
Stack<Integer> stack = new Stack<>();

for (int i = traversal; condition; update) {

    while (!stack.isEmpty() && violatesMonotonicRule(stack.peek(), i)) {
        stack.pop();
    }

    // Answer is either stack.peek() or derived here

    stack.push(i);
}
```

### Replace:

* `violatesMonotonicRule` â†’ `<=`, `>=`, `<`, `>`
* `i` â†’ index or value

---

# 6ï¸âƒ£ Identify the â€œPOP MEANS SOMETHINGâ€ Rule ğŸš¨

This is where people fail.

### Ask:

> **When an element is popped, what did I just discover?**

| Problem    | Pop Means               |
| ---------- | ----------------------- |
| NGE        | Found next greater      |
| NSE        | Found next smaller      |
| Rain Water | Found a valley          |
| Histogram  | Found max area boundary |
| Stock Span | Span ended              |

ğŸ‘‰ **If pop has meaning â†’ stack is correct approach**

---

# 7ï¸âƒ£ Special Pattern: â€œContainer / Area / Waterâ€ ğŸ«™

If problem involves:

* height
* bars
* area
* water
* histogram

ğŸš¨ **Stack must store INDICES, not values**

Why?

* You need **width**
* You need **distance between boundaries**

```java
int width = right - left - 1;
```

---

# 8ï¸âƒ£ 5-Problem Mapping (Interview Gold)

| Problem              | Stack Type | Direction | Pop Meaning   |
| -------------------- | ---------- | --------- | ------------- |
| Next Greater Element | Decreasing | R â†’ L     | Found NGE     |
| Stock Span           | Decreasing | L â†’ R     | Span ends     |
| Daily Temperatures   | Decreasing | L â†’ R     | Warmer day    |
| Trapping Rain Water  | Decreasing | L â†’ R     | Valley closed |
| Largest Histogram    | Increasing | L â†’ R     | Area computed |

---

# 9ï¸âƒ£ One-Sentence Decision Rule (Memorize This)

> **If I need the nearest greater/smaller element on either side in O(n), I use a monotonic stack.**

---

# ğŸ”Ÿ Interviewer-Level Explanation (Say This Out Loud)

> â€œThis is a classic monotonic stack problem because each element is pushed and popped once, giving O(n) time, and popping an element gives us immediate information about its nearest greater/smaller neighbor.â€

ğŸ”¥ **This line alone signals senior-level understanding**

---
